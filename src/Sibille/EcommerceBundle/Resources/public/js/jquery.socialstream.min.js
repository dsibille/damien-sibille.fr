/* Socialstream plugin for jQuery */
!function(a){a.fn.socialstream=function(e){var t={socialnetwork:"flickr",username:"pixel-industry",limit:6,overlay:!0},e=a.extend(t,e);return this.each(function(){var t=a(this);switch(e.socialnetwork){case"flickr":t.append('<ul class="flickr-list"></ul>'),a.getJSON("https://api.flickr.com/services/rest/?method=flickr.people.findByUsername&username="+e.username+"&format=json&api_key=32ff8e5ef78ef2f44e6a1be3dbcf0617&jsoncallback=?",function(i){var r=i.user.nsid;a.getJSON("https://api.flickr.com/services/rest/?method=flickr.photos.search&user_id="+r+"&format=json&api_key=85145f20ba1864d8ff559a3971a0a033&per_page="+e.limit+"&page=1&extras=url_sq&jsoncallback=?",function(i){a.each(i.photos.photo,function(i,r){var s=r.owner,n=r.title,l=r.url_sq,o=r.id,c="https://www.flickr.com/photos/"+s+"/"+o,p=a("<img/>").attr({src:l,alt:n}),d=a("<a/>").attr({href:c,target:"_blank",title:n}),v=a(d).append(p);if(e.overlay){var u=a("<div/>").addClass("img-overlay");a(d).append(u)}var m=a("<li/>").append(v);a("ul",t).append(m)})})});break;case"pinterest":var i="https://pinterest.com/"+e.username+"/feed.rss",r="https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(i)+"&num="+e.limit+"&output=json_xml";a.getJSON(r,function(i){if(200==i.responseStatus){var r=i.responseData.feed,s="";if(!r)return!1;for(var n='<ul class="pinterest-list">',l=0;l<r.entries.length;l++){var o=r.entries[l],c=a("<div></div>");c.append(o.content);var p="http://www.pinterest.com"+c.find("a").attr("href"),d=c.find("img").attr("src"),v=c.find("p:nth-child(2)").html();if(e.overlay)var s='<div class="img-overlay"></div>';n+='<li><a target="_blank" href="'+p+'" title="'+v+'"><img src="'+d+'"/>'+s+"</a></li>"}n+="</ul>",a(t).append(n)}});break;case"instagram":t.append('<ul class="instagram-list"></ul>');var s="200718541.a4734ab.cc050fa16d6141bf8b709c97ab158f57";i="https://api.instagram.com/v1/users/search?q="+e.username+"&access_token="+s+"&count=1&callback=?",a.getJSON(i,function(r){a.each(r.data,function(r,n){var l=n.username;if(l==e.username){var o=n.id;""!=o&&(i="https://api.instagram.com/v1/users/"+o+"/media/recent/?access_token="+s+"&count="+e.limit+"&callback=?",a.getJSON(i,function(i){a.each(i.data,function(i,r){var s=r.images.thumbnail.url,n=r.link,l="";null!=r.caption&&(l=r.caption.text);var o=a("<img/>").attr({src:s,alt:l}),c=a("<a/>").attr({href:n,target:"_blank",title:l}),p=a(c).append(o);if(e.overlay){var d=a("<div/>").addClass("img-overlay");a(c).append(d)}var v=a("<li/>").append(p);a("ul",t).append(v)})}))}})});break;case"dribbble":t.append('<ul class="dribbble-list"></ul>'),a.getJSON("http://dribbble.com/"+e.username+"/shots.json?callback=?",function(i){a.each(i.shots,function(i,r){if(i<e.limit){var s=r.title,n=a("<img/>").attr({src:r.image_teaser_url,alt:s}),l=a("<a/>").attr({href:r.url,target:"_blank",title:s}),o=a(l).append(n);if(e.overlay){var c=a("<div/>").addClass("img-overlay");a(l).append(c)}var p=a("<li/>").append(o);a("ul",t).append(p)}})});break;case"deviantart":var i="http://backend.deviantart.com/rss.xml?type=deviation&q=by%3A"+e.username+"+sort%3Atime+meta%3Aall",r="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(i)+"&num="+e.limit+"&output=json_xml";a.getJSON(r,function(i){if(200==i.responseStatus){var r=i.responseData.feed,s="";if(!r)return!1;for(var n='<ul class="deviantart-list">',l=0;l<r.entries.length;l++){var o=r.entries[l],c=a("<div></div>");c.append(o.content);var p=o.link,d=c.find("img").attr("src"),v=o.title;if(e.overlay)var s='<div class="img-overlay"></div>';n+='<li><a target="_blank" href="'+p+'" title="'+v+'"><img src="'+d+'"/>'+s+"</a></li>"}n+="</ul>",a(t).append(n)}});break;case"picasa":var i="https://picasaweb.google.com/data/feed/base/user/"+e.username+"?alt=rss&kind=photo&hl=en_US&imgmax="+e.limit+"&thumbsize=48c",r="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(i)+"&num="+e.limit+"&output=json_xml";a.getJSON(r,function(i){if(200==i.responseStatus){var r=i.responseData.feed,s="";if(!r)return!1;for(var n='<ul class="picasa-list">',l=0;l<r.entries.length;l++){var o=r.entries[l],c=a("<div></div>");c.append(o.content);var p=o.link,d=c.find("img").attr("src"),v=o.title;if(e.overlay)var s='<div class="img-overlay"></div>';n+='<li><a target="_blank" href="'+p+'" title="'+v+'"><img src="'+d+'"/>'+s+"</a></li>"}n+="</ul>",a(t).append(n)}});break;case"youtube":var i="https://gdata.youtube.com/feeds/api/users/"+e.username+"/uploads",r="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(i)+"&num="+e.limit+"&output=json_xml";a.getJSON(r,function(i){if(200==i.responseStatus){var r=i.responseData.feed,s="";if(!r)return!1;for(var n='<ul class="youtube-list">',l=0;l<r.entries.length;l++){var o=r.entries[l],c=a("<div></div>");c.append(o.content);var p=o.link,d=p.match("[\\?&]v=([^&#]*)"),v=d[1],u="http://img.youtube.com/vi/"+v+"/2.jpg",m=o.title;if(e.overlay)var s='<div class="img-overlay"></div>';n+='<li><a target="_blank" href="'+p+'" title="'+m+'"><img src="'+u+'"/>'+s+"</a></li>"}n+="</ul>",a(t).append(n)}});break;case"newsfeed":var r="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(e.username)+"&num="+e.limit+"&output=json_xml";a.getJSON(r,function(i){if(200==i.responseStatus){var r=i.responseData.feed,s="";if(!r)return!1;for(var n='<ul class="social-feed">',l=0;l<r.entries.length;l++){var o=r.entries[l],c=a("<div></div>");c.append(o.content);var p=o.link,d=c.find("img").attr("src"),v=o.title;if(e.overlay)var s='<div class="img-overlay"></div>';n+='<li><a target="_blank" href="'+p+'" title="'+v+'"><img src="'+d+'"/>'+s+"</a></li>"}n+="</ul>",a(t).append(n)}})}})}}(jQuery);

/* Tweetscroll plugin for jQuery */
!function(e){e.fn.tweetscroll=function(t){function i(t,i){var a,s="",n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","Septemper","October","November","December"];return e.each(t,function(t,l){if(0==t&&(a=e('<ul class="tweet-list">')),i.replies===!1?null===l.in_reply_to_status_id&&a.append('<li class="tweet_content_'+t+'"><p class="tweet_link_'+t+'">'+l.text.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2')+"</p></li>"):a.append('<li class="tweet_content_'+t+'"><p class="tweet_link_'+t+'">'+l.text.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2')+"</p></li>"),1==i.time){var o=jQuery.inArray(l.created_at.substr(4,3),n);"style1"==i.date_format?(s=o+1,10>s&&(s="0"+s),a.find(".tweet_link_"+t).append("<small> "+l.created_at.substr(8,2)+"/"+s+"/"+l.created_at.substr(26,4)+" "+l.created_at.substr(11,8)+"</small>")):(s=r[o],a.find(".tweet_link_"+t).append("<small> "+s+" "+l.created_at.substr(8,2)+" "+l.created_at.substr(26,4)+" "+l.created_at.substr(11,8)+"</small>"))}}),"slide_down"==i.animation&&a.find("li").each(function(){e(this).prependTo(e(this).parent())}),a}var a={limit:5,visible_tweets:1,username:"dsibille",time:!1,replies:!0,date_format:"style1",animation:"slide_down"},s=e.extend({},a,t);return this.each(function(t){function a(t){switch(s.animation){case"slide_down":for(var i=t.find("li").outerHeight(),a=0,n=s.visible_tweets+2,r=2;n>r;r++){var l=s.limit-r,o=t.find("li").eq(l);a+=e(o).outerHeight()}var c=parseInt(t.find("li:last").outerHeight());t.parent().css({height:a}),t.animate({bottom:-c},"slow","linear",function(){t.find("li:first").before(t.find("li:last")),t.css({bottom:0})});break;case"slide_up":for(var i=t.find("li").outerHeight(),a=0,n=s.visible_tweets+2,r=2;n>r;r++){var o=t.find("li:nth-child("+r+")");a+=e(o).outerHeight()}t.parent().css({height:a}),t.animate({top:-i},"slow","linear",function(){t.find("li:last").after(t.find("li:first")),t.css({top:0})});break;case"fade":var i=t.outerHeight(),a=0;parseInt(t.css("top"))+i;t.animate({opacity:0},"slow","linear",function(){var i=t.find("li:lt("+s.visible_tweets+")");t.find("li:last").after(e(i));for(var n=1;n<=s.visible_tweets;n++){var r=t.find("li:nth-child("+n+")");a+=e(r).outerHeight()}t.css({height:a}),t.animate({opacity:1})})}}function n(t){var i=0;if("slide_down"==s.animation){for(var a=s.visible_tweets+1,n=1;a>n;n++){var r=s.limit-n,l=t.find("li").eq(r);i+=e(l).outerHeight()}t.parent().css({height:i}),t.css({bottom:0})}else if("slide_up"==s.animation){for(var a=s.visible_tweets+1,n=1;a>n;n++){var l=t.find("li:nth-child("+n+")");i+=e(l).outerHeight()}t.parent().css({height:i})}else if("fade"==s.animation){for(var a=s.visible_tweets+1,n=1;a>n;n++){var l=t.find("li:nth-child("+n+")");i+=e(l).outerHeight()}t.css({height:i})}}var r,l=e(this),o="//www.damien-sibille.fr/bundles/sibilleecommerce/js/twitter/tweets.php";if(jQuery.isArray(s.username)){var c,f,p=s.username.length,u=s.limit-Math.floor(s.limit/p)*p,d=Math.floor(s.limit/p);r=e('<ul class="tweet-list">'),jQuery.each(s.username,function(t,h){u>0?(c=d+1,u--):c=d,e.getJSON(o,s,function(o){f=i(o,s),f.find("li").appendTo(r),t==p-1&&(e(r).appendTo(l),n(r),setInterval(function(){a(r)},3e3))})})}else 0==s.animation&&(s.limit=s.visible_tweets),e.getJSON(o,s,function(t){r=i(t,s),e(r).appendTo(l),n(r),setInterval(function(){a(r)},3e3)})})}}(jQuery);
            